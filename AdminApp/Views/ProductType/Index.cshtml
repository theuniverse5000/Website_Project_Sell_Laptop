@{
    ViewBag.Title = "Product Type";
    
}
<span id="notification" style="display:none;">222</span>
<div id="example" style="width: 1300px; margin: 0 auto;">
    <div id="grid"></div>
</div>
<br/>

@section scripts {
    <link href="https://kendo.cdn.telerik.com/2021.3.914/styles/kendo.common.min.css" rel="stylesheet" />
    <link href="https://kendo.cdn.telerik.com/2021.3.914/styles/kendo.default.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://kendo.cdn.telerik.com/2021.3.914/js/kendo.all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        /*
            This demo renders the grid in "DejaVu Sans" font family, which is
            declared in kendo.common.css. It also declares the paths to the
            fonts below using <tt>kendo.pdf.defineFont</tt>, because the
            stylesheet is hosted on a different domain.
        */
       // Fix xuất file PDF
        kendo.pdf.defineFont({ 
            "DejaVu Sans": "https://kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans.ttf",
            "DejaVu Sans|Bold": "https://kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Bold.ttf",
            "DejaVu Sans|Bold|Italic": "https://kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf",
            "DejaVu Sans|Italic": "https://kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf",
            "WebComponentsIcons": "https://kendo.cdn.telerik.com/2017.1.223/styles/fonts/glyphs/WebComponentsIcons.ttf"
        });
    </script>

    <script>
        $(document).ready(function () {

            // Cấu hình Kendo UI Notification
            $("#notification").kendoNotification({
                position: {
                    top: 50,
                    right: 20
                }
            });
            // Function hiển thị thông báo
            function showNotification(message, type) {
                $("#notification").data("kendoNotification").show({
                    message: message,
                    hideAfter: 40000, // Thời gian hiển thị thông báo (3 giây)
                    width: 300,
                    type: type // Loại thông báo: "success" hoặc "error"
                });
            }
           
            $("#grid").kendoGrid({
                dataSource: {
                    transport: {
                        read: {
                            url: "/ProductType/GetProductType",
                            type: "GET",
                            dataType: "json"
                        },
                        create: {
                            url: "/ProductType/CreateProductType",
                            type: "POST",
                            dataType: "json",

                        },
                        update: {
                            url: "/ProductType/UpdateProductType",
                            type: "PUT",
                            dataType: "json"
                        },
                        destroy: {
                            url: "/ProductType/DeleteProductType2",
                            type: "DELETE",
                            dataType: "json"
                        },

                    },
                    schema: {
                        data: "result",
                        total: "count", // Chỉ định tên trường tổng số dòng,
                        model: {
                            id: "id",
                            fields: {
                                name: { type: "string", validation: { required: true } },
                              //  status: { type: "int" }
                            }
                        }
                    }, 
                    
                    pageSize: 20,
            
                }, 
                height: 550,
                groupable: false,
                sortable: true,
                pageable: {
                    refresh: true,
                    pageSizes: [5, 10, 20, "All"],
                    buttonCount: 3,
                    messages: {
                        itemsPerPage: "Số dòng trên mỗi trang",
                        display: "{0}-{1} trong {2} dòng"
                    }
                },

                toolbar: [
                    {
                    name: "create",
                    text: "Thêm", /* Thay đổi văn bản của nút "Thêm" */

                }, 
                
                "pdf"],
                pdf: {
                    allPages: true,
                    avoidLinks: true,
                    paperSize: "A4",
                    margin: { top: "2cm", left: "1cm", right: "1cm", bottom: "1cm" },
                    landscape: true,
                    repeatHeaders: true,
                    template: $("#page-template").html(),
                    scale: 0.8,                
                },
                editable: {
                    mode: "popup",
                    window: { width: 550, height:250}, // Chỉnh chiều rộng ở đây
                },


                save: function (e) {
                    if (e.model.isNew()) {
                        if (status === 'success') {
                            showNotification("status","error");
                            showNotification('', 'error');
                        } else {
                            showNotification('', 'error');
                        }

                    }
                },

                columns: [
                    {
                        field: "name",
                        title: "Tên"
                    },
                    {
                        command: [
                            {
                                name: "edit",
                                text: "Sửa",
                            },
                            {
                                name: "destroy",
                                text: "Xóa",
                            },
                        ],
                        title: "Hành động",
                        width: "250px",
                        exportable: false
                    }
                ],
               
            });
        });
    </script>
}
<style>





    /* Tùy chỉnh popup bằng CSS */
    .k-popup-edit-form {
        background-color: #f5f5f5; /* Màu nền của popup chỉnh sửa */
        border: 1px solid #ddd; /* Viền xung quanh popup */
    }

    .k-edit-form-container {
        padding: 20px; /* Khoảng cách giữa nội dung và viền popup */
    }

    .k-edit-label {
        font-weight: bold; /* Định dạng kiểu font cho nhãn */
    }

    .k-edit-field {
        width: 100%; /* Kích thước trường nhập liệu */
    }

    .k-grid-update, .k-grid-cancel {
        background-color: #337ab7; /* Màu nền của nút Lưu và Hủy */
        color: #fff; /* Màu chữ của nút Lưu và Hủy */
    }

        .k-grid-update:hover, .k-grid-cancel:hover {
            background-color: #23527c; /* Màu nền khi di chuột qua nút */
        }










    /* Page Template for the exported PDF */
        .page-template {
          font-family: "DejaVu Sans", "Arial", sans-serif;
          position: absolute;
          width: 100%;
          height: 100%;
          top: 0;
          left: 0;
        }
        .page-template .header {
          position: absolute;
          top: 30px;
          left: 30px;
          right: 30px;
          border-bottom: 1px solid #888;
          color: #888;
        }
        .page-template .footer {
          position: absolute;
          bottom: 30px;
          left: 30px;
          right: 30px;
          border-top: 1px solid #888;
          text-align: center;
          color: #888;
        }
        .page-template .watermark {
          font-weight: bold;
          font-size: 400%;
          text-align: center;
          margin-top: 30%;
          color: #aaaaaa;
          opacity: 0.1;
          transform: rotate(-35deg) scale(1.7, 1.5);
        }

        /* Content styling */
        .customer-photo {
          display: inline-block;
          width: 32px;
          height: 32px;
          border-radius: 50%;
          background-size: 32px 35px;
          background-position: center center;
          vertical-align: middle;
          line-height: 32px;
          box-shadow: inset 0 0 1px #999, inset 0 0 10px rgba(0,0,0,.2);
          margin-left: 5px;
        }
        kendo-pdf-document .customer-photo {
          border: 1px solid #dedede;
        }
        .customer-name {
          display: inline-block;
          vertical-align: middle;
          line-height: 32px;
          padding-left: 3px;
        }



    /* Tùy chỉnh popup */
    .k-popup-content {
        border-radius: 10px; /* Điều này sẽ làm cho các góc tròn */
        background-color: #f5f5f5; /* Màu nền */
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2); /* Hiệu ứng bóng đổ */
    }

    /* Tùy chỉnh header của popup */
    .k-popup-title {
        background-color: #007bff; /* Màu header */
        color: #fff; /* Màu chữ */
        border-radius: 10px 10px 0 0; /* Góc trên của header là tròn, dưới là vuông */
    }

    /* Tùy chỉnh nút đóng popup */
    .k-popup .k-i-close {
        color: #fff; /* Màu của nút đóng */
        font-size: 20px; /* Kích thước của biểu tượng đóng */
        top: 5px; /* Điều chỉnh vị trí nút đóng */
        right: 5px;
    }

    /* Tùy chỉnh nội dung của popup */
    .k-popup-content .k-edit-form-container {
        padding: 20px; /* Khoảng cách nội dung từ biên của popup */
    }



</style>




